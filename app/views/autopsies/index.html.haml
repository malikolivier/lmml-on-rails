/todo:リソース化
= button_to 'New Autopsy', new_autopsy_path, method: :get, class: 'btn btn-default'
%h1
  Autopsies
%h4
  Number
  = text_field_tag('filter')
  Examiner Id
  = text_field_tag('filter')
  Police Inspector Id
  = text_field_tag('fsilter')
  = button_to('Filtering', '', class: 'btn btn-default')
%table
  %thead
    %tr
      %th
        - if request.url.index('completed+DESC').nil?
          = link_to('Completed▼', './autopsies?order=completed+DESC')
        - else
          = link_to('Completed▲', './autopsies?order=completed')
      %th
        - if request.url.index('number+DESC').nil?
          = link_to('Number▼', './autopsies?order=number+DESC')
        - else
          = link_to('Number▲', './autopsies?order=number')
      %th
        - if request.url.index('suspect_id+DESC').nil?
          = link_to('Suspect▼', './autopsies?order=suspect_id+DESC')
        - else
          = link_to('Suspect▲', './autopsies?order=suspect_id')
      %th
        - if request.url.index('victim_id+DESC').nil?
          = link_to('Victim▼', './autopsies?order=victim_id+DESC')
        - else
          = link_to('Victim▲', './autopsies?order=victim_id')
      %th
        - if request.url.index('place_id+DESC').nil?
          = link_to('Place▼', './autopsies?order=place_id+DESC')
        - else
          = link_to('Place▲', './autopsies?order=place_id')
      %th
        - if request.url.index('autopsy_date+DESC').nil?
          = link_to('Autopsy date▼', './autopsies?order=autopsy_date+DESC')
        - else
          = link_to('Autopsy date▲', './autopsies?order=autopsy_date')
      %th
        - if request.url.index('starting_time+DESC').nil?
          = link_to('Starting time▼', './autopsies?order=starting_time+DESC')
        - else
          = link_to('Starting time▲', './autopsies?order=starting_time')
      %th
        - if request.url.index('ending_time+DESC').nil?
          = link_to('Ending time▼', './autopsies?order=ending_time+DESC')
        - else
          = link_to('Ending time▲', './autopsies?order=ending_time')
      %th
        - if request.url.index('police_station_id+DESC').nil?
          = link_to('Police station▼', './autopsies?order=police_station_id+DESC')
        - else
          = link_to('Police station▲', './autopsies?order=police_station_id')
      %th
        - if request.url.index('police_inspector_id+DESC').nil?
          = link_to('Police inspector▼', './autopsies?order=police_inspector_id+DESC')
        - else
          = link_to('Police inspector▲', './autopsies?order=police_inspector_id')
      %th
        - if request.url.index('court_id+DESC').nil?
          = link_to('Court▼', './autopsies?order=court_id+DESC')
        - else
          = link_to('Court▲', './autopsies?order=court_id')
      %th
        - if request.url.index('judge_id+DESC').nil?
          = link_to('Judge▼', './autopsies?order=judge_id+DESC')
        - else
          = link_to('Judge▲', './autopsies?order=judge_id')
      %th{ colspan: '3' }
  %tbody
    - @autopsies.each do |autopsy|
      %tr
        %td= autopsy.completed
        %td= autopsy.number
        %td= autopsy.suspect_id
        %td= autopsy.victim_id
        %td= autopsy.place_id
        %td= autopsy.autopsy_date
        %td= autopsy.starting_time
        %td= autopsy.ending_time
        %td= autopsy.police_station_id
        %td= autopsy.police_inspector_id
        %td= autopsy.court_id
        %td= autopsy.judge_id
        %td= button_to 'Show', browse_autopsy_path(autopsy, locale: I18n.locale), method: :get, class: 'btn btn-default'
        %td= button_to 'Edit', edit_external_autopsy_path(autopsy, locale: I18n.locale), method: :get, class: 'btn btn-default'
        %td= button_to 'Download', autopsy_lmml_file_path(autopsy, locale: I18n.locale), method: :get, class: 'btn btn-default'
