<% if exam.weight.present? %>
<%= exam.weight %>g。
<% end %>
<% if exam.rigor_mortis.present? %>
心筋に硬直<%= I18n.t "existence.#{exam.rigor_mortis}" %>。
<% end %>
<% if exam.epicardial_lipomatosis.present? %>
心外膜下脂肪沈着<%= I18n.t "existence.#{exam.epicardial_lipomatosis}" %>。
<% end %>
<% if exam.epicardial_petechia.present? %>
心外膜下に溢血点<%= I18n.t "quantity.#{exam.epicardial_petechia}" %>。
<% end %>
<%
extracted_blood_phrases = []
extracted_blood_phrases.push("摘出量#{exam.extracted_blood_quantity}mL") if exam.extracted_blood_quantity.present?
extracted_blood_phrases.push("#{I18n.t "colors.#{exam.extracted_blood_color}"}") if exam.extracted_blood_color.present?
extracted_blood_phrases.push("凝血#{I18n.t "existence.#{exam.extracted_blood_coagulation}"}") if exam.extracted_blood_coagulation.present?
%>
<% if extracted_blood_phrases.present? %>
心臓血<%= extracted_blood_phrases.to_sentence words_connector: '、', last_word_connector: 'で' %>。
<% end %>

<%= exam.arteries_description %>
<%= exam.heart_chambers_description %>

<%
no_scar = exam.scar_left_does_not_exist? && exam.scar_right_does_not_exist?
same_thickness = exam.thickness_left == exam.thickness_right
muscle_phrases = []
if exam.thickness_left.present? && same_thickness
  muscle_phrases.push("厚さ左右#{exam.thickness_left}cm")
else
  thickness_phrases = []
  thickness_phrases.push("左#{exam.thickness_left}cm") if exam.thickness_left.present?
  thickness_phrases.push("右#{exam.thickness_right}cm") if exam.thickness_right.present?
  muscle_phrases.push("厚さ#{thickness_phrases.to_sentence two_words_connector: '、'}") if thickness_phrases.any?
end
if no_scar
  muscle_phrases.push('瘢痕なし')
elsif exam.scar_left_exists? && exam.scar_right_exists?
  muscle_phrases.push('左右瘢痕あり')
else
  muscle_phrases.push('左側瘢痕あり') if exam.scar_left_exists?
  muscle_phrases.push('右側瘢痕あり') if exam.scar_right_exists?
end
%>
<%= "心筋は#{muscle_phrases.to_sentence_with_comma_and_full_stop}" if muscle_phrases.any? %>

<%
pulmonary_artery_description = ''
if exam.pulmonary_artery_width.present? && exam.pulmonary_artery_thrombus.present?
  pulmonary_artery_description = "肺動脈起始部の幅#{exam.pulmonary_artery_width}cm、血栓#{I18n.t "existence.#{exam.pulmonary_artery_thrombus}"}。"
elsif exam.pulmonary_artery_width.present? && exam.pulmonary_artery_thrombus.blank?
  pulmonary_artery_description = "肺動脈起始部の幅#{exam.pulmonary_artery_width}cm。"
elsif exam.pulmonary_artery_width.blank? && exam.pulmonary_artery_thrombus.present?
  pulmonary_artery_description = "肺動脈起始部に血栓#{I18n.t "existence.#{exam.pulmonary_artery_thrombus}"}。"
end
%>
<%= pulmonary_artery_description %>
